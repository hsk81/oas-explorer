language: node_js
node_js:
- lts/*
os:
- linux
- osx
- windows
cache: npm
env:
- SETTINGS_SET=1
before_deploy:
- node -e "require('./settings')"
- npm run make
deploy:
  provider: releases
  api_key:
    secure: $GITHUB_DEPLOY_TOKEN
  file_glob: true
  file:
    - "./out/make/**/*"
  skip_cleanup: true
  draft: true
  on:
    condition: $GITHUB_DEPLOY
    tags: true
